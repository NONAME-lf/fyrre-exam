import{j as t,r as n,g}from"./index-DyytaR27.js";import{P as f}from"./PageSlogan-BR727-eH.js";import m from"./ArticlesSection-BD-czaE1.js";import{C}from"./CategoryLabel-2SVeUYEl.js";import"./ArticleCard-ChlRJLgm.js";function d(e){const i=()=>{e.onClick&&e.onClick()};return t.jsx("button",{className:`btn filter ${e.isActive?"active":""}`,onClick:i,children:t.jsx(C,{category:e.title})})}function x(e){const[i,l]=n.useState(null),[r,c]=n.useState("All");return n.useEffect(()=>{if(!e.articles)return;const a=e.articles.map(s=>s.category),o=["All",...new Set(a)];l(o)},[e]),t.jsxs("div",{className:"categories-filter",children:[t.jsx("h4",{children:"Categories"}),t.jsx("ul",{className:"categories",children:i&&i.map(a=>t.jsx("li",{children:t.jsx(d,{title:a,isActive:r===a,onClick:()=>{e.onchange(a),c(a)}})},a))})]})}function D(){const[e,i]=n.useState(null),[l,r]=n.useState(null),[c,a]=n.useState(null),o=s=>{a(s==="All"?null:l.filter(u=>u.category===s))};return n.useEffect(()=>{g().then(s=>{i(s?.svgSlogans?.find(u=>u.page==="MagazinePage")),r(s?.articles)})},[]),t.jsxs(t.Fragment,{children:[t.jsx(f,{svgContent:e?.svgContent,className:"dmb"}),t.jsx(x,{articles:l||[],onchange:o}),t.jsx(m,{articles:c||l||[],sidebar:!1,orientation:"vertical",nolink:!0})]})}export{D as default};
