import{j as e,b as d,r,g as n,a as u,c as h,H as x}from"./index-DPwbfeyc.js";import{A as j}from"./ArticleCard-uiMVKPDU.js";function f(a){return e.jsx(d,{to:a.to,className:`btn ${a.className?a.className:""}`,children:e.jsx("span",{className:"text",children:a.text})})}function N(){const[a,l]=r.useState(null),[t,i]=r.useState(null),[o,m]=r.useState(null);return r.useEffect(()=>{n().then(s=>{l(s.sidebar)}),n().then(s=>{i(s.articles)})},[]),r.useEffect(()=>{!a||!t||m(t.sort((s,c)=>c.popularity-s.popularity).slice(0,3))},[a,t]),e.jsxs("aside",{className:"article-sidebar",children:[e.jsxs("div",{className:"magazine",children:[e.jsxs("div",{className:"info",children:[e.jsx("span",{children:"Printmagazine"}),e.jsx("h3",{children:a?.featuredMagazine?.date})]}),e.jsx("div",{className:"img-wrap",children:e.jsx("img",{src:u(a?.featuredMagazine?.img),alt:"Featured Magazine image",loading:"lazy"})}),e.jsx(f,{to:"/magazine",text:"Order",className:"dark"})]}),e.jsxs("div",{className:"popular",children:[e.jsx("span",{children:"Most Popular"}),e.jsx("ul",{children:o?.map((s,c)=>e.jsxs("li",{children:[e.jsxs("div",{className:"number",children:["0",c+1]}),e.jsx("div",{className:"about",children:e.jsxs(d,{to:`/detail/magazine/${s.id}`,className:"title-link",children:[e.jsx("span",{className:"title",children:s.title}),e.jsxs("span",{className:"author",children:["Text",e.jsx("span",{children:s.author})]})]})})]},s.id))})]}),e.jsx("div",{className:"newsletter",children:e.jsx(h,{form:a?.form})})]})}function b(a){const l=()=>{if(!document.querySelector(".article-section .article-card"))return;document.body.clientWidth<=1232?document.querySelectorAll(".article-section .article-card").forEach(i=>{i.classList.remove("horizontal"),i.classList.add("vertical")}):document.querySelectorAll(".article-section .article-card").forEach(i=>{i.classList.remove("vertical"),i.classList.add("horizontal")})};return r.useEffect(()=>(l(),window.addEventListener("resize",()=>{l()}),()=>{window.removeEventListener("resize",l)}),[a]),e.jsxs("section",{className:`articles-section ${a.orientation}`,children:[e.jsxs("div",{className:`section-content ${a.sidebar?"sidebar":""}`,children:[e.jsx("ul",{className:"articles",children:a.articles.map(t=>e.jsx("li",{className:"article-item",children:e.jsx(j,{article:t,orientation:a.orientation})},t.id))}),a.sidebar&&e.jsx(N,{})]}),!a.nolink&&e.jsx(x,{to:"/magazine",highlight:"All ",text:"Articles",icon:"",uppercase:!0,bold:!0})]})}export{b as default};
