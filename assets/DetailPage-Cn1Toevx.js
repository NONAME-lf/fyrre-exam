const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LatestSection-uVLNrSEZ.js","assets/index-DPwbfeyc.js","assets/index-DH53hoPB.css","assets/SectionHeader-C4478--j.js","assets/SectionHeader-hNDofaQw.css","assets/PodcastCard-UQB-PX3h.js","assets/PodcastCard-DpGjQEWF.css","assets/ArticleCard-uiMVKPDU.js","assets/ArticleCard-De_cGG1d.css","assets/LatestSection-C7Fwp2mO.css"])))=>i.map(i=>d[i]);
import{j as e,H as y,r as n,a as m,S as h,g,u as D,y as p,_ as v}from"./index-DPwbfeyc.js";import{L as b}from"./LeadArticle-BaJQANQ6.js";import"./CategoryLabel-MLe-DN1S.js";function _(a){return e.jsxs("div",{className:"detail-back-type",children:[e.jsx(y,{to:`/${a.type}`,className:"link-hover",highlight:"Go ",text:"back",icon:"",uppercase:"uppercase",bold:"bold",iconReverse:!0}),e.jsx("span",{className:"type",children:a.type})]})}function E(a){return console.log(a),e.jsxs("ul",{className:"listen-list",children:[e.jsx("li",{children:e.jsx("a",{href:a.spotify,target:"_blank",rel:"noopener noreferrer nofollow",className:a.inverted,children:e.jsx("svg",{className:"icon",children:e.jsx("use",{xlinkHref:"/fyrre-exam/sprite.svg#spotify"})})})}),e.jsx("li",{children:e.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer nofollow",className:a.inverted,children:e.jsx("svg",{className:"icon",children:e.jsx("use",{xlinkHref:"/fyrre-exam/sprite.svg#apple"})})})}),e.jsx("li",{children:e.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer nofollow",className:a.inverted,children:e.jsx("svg",{className:"icon",children:e.jsx("use",{xlinkHref:"/fyrre-exam/sprite.svg#soundcloud"})})})})]})}function f(a){const[i,l]=n.useState(null);if(n.useEffect(()=>{!a.authorData?.img&&a.podcastData?.images||(a.type==="magazine"?l(m(a.authorData?.img)):a.type==="podcast"&&l(a.podcastData?.images[0]?.url))},[a]),a.type==="magazine")return e.jsxs("aside",{className:"detail-content-sidebar",children:[e.jsxs("div",{className:"author-info",children:[e.jsx("div",{className:"img-wrap",children:e.jsx("img",{src:i,alt:`${a.authorData?.name} image`,onError:()=>l(m("no-image.jpg")),loading:"lazy"})}),e.jsx("h3",{children:a.authorData?.name})]}),e.jsxs("ul",{className:"article-info",children:[e.jsxs("li",{children:[e.jsx("span",{className:"param",children:"Date"}),a.articleData?.date]}),e.jsxs("li",{children:[e.jsx("span",{className:"param",children:"Read"}),a.articleData?.timeToRead]}),e.jsxs("li",{children:[e.jsx("span",{className:"param",children:"Share"}),e.jsx(h,{})]})]})]});if(a.type==="podcast")return e.jsxs("aside",{className:"detail-content-sidebar",children:[e.jsxs("div",{className:"podcast-info",children:[e.jsxs("div",{className:"img-wrap",children:[e.jsxs("div",{className:"color-layer",children:[e.jsxs("hgroup",{children:[e.jsx("h4",{className:"podcast-label",children:"FYRRE"}),e.jsx("p",{className:"podcast-title",children:"Podcast"})]}),e.jsxs("div",{className:"misc",children:[e.jsxs("span",{className:"episode",children:["EP ",a.episodeNum]}),e.jsx("div",{className:"arrow"})]})]}),e.jsx("img",{src:a.podcastData?.images[0]?.url,alt:`${a.podcastData?.name} image`,onError:()=>l("/fyrre-exam/src/assets/img/no-image.jpg"),loading:"lazy"})]}),e.jsxs("div",{className:"listen-on",children:[e.jsx("h3",{children:"Listen on"}),e.jsx(E,{spotify:a.podcastData?.external_urls?.spotify})]})]}),e.jsxs("ul",{className:"article-info",children:[e.jsxs("li",{children:[e.jsx("span",{className:"param",children:"Date"}),a.podcastData?.release_date]}),e.jsxs("li",{children:[e.jsx("span",{className:"param",children:"Duration"}),a.podcastData?.duration_ms?`${Math.floor(a.podcastData.duration_ms/6e4)} min`:""]}),e.jsxs("li",{children:[e.jsx("span",{className:"param",children:"Share"}),e.jsx(h,{})]})]})]})}function k(a){return e.jsxs("aside",{className:"detail-author-sidebar",children:[e.jsx("div",{className:"author-photo",children:e.jsx("div",{className:"img-wrap",children:e.jsx("img",{src:m(a.authorData?.img),alt:`${a.authorData?.name} image`,onError:()=>setImagePath(m("no-image.jpg")),loading:"lazy"})})}),e.jsxs("div",{className:"author-info",children:[e.jsx("h3",{children:"FOLLOW"}),e.jsx(h,{})]})]})}function S(a){const[i,l]=n.useState(null);return n.useEffect(()=>{!a.item?.authorId||a.type!=="magazine"||g().then(s=>{const t=s?.authors?.find(r=>+r.id==+a.item.authorId);l(t||null)})},[a]),n.useEffect(()=>{!a.item||a.type!=="author"||l(a.item||null)},[a]),e.jsxs("section",{className:"detail-content",children:[a.type==="magazine"&&e.jsxs(e.Fragment,{children:[e.jsx(f,{authorData:i,articleData:a.item,type:a.type}),e.jsx("ul",{className:"detail-content-text",children:a.item?.content?.mainText&&a.item?.content.mainText.map((s,t)=>{if(s.medium)return e.jsx("li",{children:e.jsx("p",{className:"medium",children:s.medium})},t);if(s.normal)return e.jsx("li",{children:e.jsx("p",{className:"normal",children:s.normal})},t);if(s.quote)return e.jsx("li",{children:e.jsxs("div",{className:"quote-block",children:[e.jsx("div",{className:"quotation",children:"“"}),e.jsxs("blockquote",{children:[s.quote.text,e.jsx("span",{className:"quote-author",children:s.quote.author})]})]})},t)})})]}),a.type==="author"&&e.jsxs(e.Fragment,{children:[e.jsx(k,{authorData:i}),e.jsxs("ul",{className:"detail-content-text author-biography",children:[e.jsx("li",{className:"main-info",children:e.jsxs("hgroup",{children:[e.jsx("h2",{children:i?.name}),e.jsx("p",{className:"about",children:i?.about})]})}),a.item?.biography&&a.item?.biography.map((s,t)=>{if(s.medium)return e.jsx("li",{children:e.jsx("p",{className:"medium",children:s.medium})},t);if(s.normal)return e.jsx("li",{children:e.jsx("p",{className:"normal",children:s.normal})},t);if(s.quote)return e.jsx("li",{children:e.jsxs("div",{className:"quote-block",children:[e.jsx("div",{className:"quotation",children:"“"}),e.jsxs("blockquote",{children:[s.quote.text,e.jsx("span",{className:"quote-author",children:s.quote.author})]})]})},t)})]})]}),a.type==="podcast"&&e.jsxs(e.Fragment,{children:[e.jsx(f,{podcastData:a.item,type:a.type,episodeNum:a.item?.epNum}),e.jsxs("ul",{className:"detail-content-text",children:[a.item?.name&&e.jsxs("li",{className:"podcast-info",children:[a.item?.epNum&&e.jsxs("span",{className:"episode-number",children:["Episode ",a.item.epNum]}),e.jsx("h2",{children:a.item.name})]}),a.item?.description&&e.jsx("li",{className:"description",dangerouslySetInnerHTML:{__html:a.item.html_description}})]})]})]})}const q=n.lazy(()=>v(()=>import("./LatestSection-uVLNrSEZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])));function z(){const a=D(),[i,l]=n.useState(null),s=(t,r)=>{const c=localStorage.getItem(`spotify_episode_${t}`);if(c)return JSON.parse(c);for(const d of r){const u=localStorage.getItem(`spotify_show_${d.id}`),o=u?JSON.parse(u):d;if(!o.episodes)continue;const j=o.episodes.items.find((x,N)=>(x.epNum=o.episodes.items.length-N,x.id===t));if(j)return j}p.error("Episode not found",{theme:"dark"})};return n.useEffect(()=>{g().then(t=>{const r=a.type==="magazine"?t?.articles:a.type==="author"?t?.authors:a.type==="podcast"?t?.shows:[],c=a.type!=="podcast"?r.find(d=>d.id===parseInt(a.id)):s(a.id,t?.shows);l(c||null)})},[a]),e.jsxs(e.Fragment,{children:[e.jsx(_,{type:a.type}),a.type==="magazine"&&i&&e.jsx(b,{lead:i,detail:!0}),e.jsx(S,{item:i,type:a.type}),e.jsx(q,{type:a.type,itemData:i})]})}export{z as default};
